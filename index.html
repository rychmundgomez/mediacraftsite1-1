<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Ultimate Resource</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet">

  <!-- Inline SVG favicon -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='18' fill='%23345b63'/%3E%3Ctext x='50' y='58' font-size='48' text-anchor='middle' fill='%23fff' font-family='Poppins,Arial' font-weight='700'%3EM%3C/text%3E%3C/svg%3E">

  <meta name="description" content="The Ultimate Resource — crafted design, film, audio and product experiences." />

  <style>
    /* ===== VARIABLES ===== */
    :root{
      --bg-1:#0f1720;
      --bg-2:#071027;
      --primary:#ffb703;
      --accent:#00b4d8;
      --muted:#9aa7b2;
      --radius:16px;
      --ease:cubic-bezier(.2,.9,.25,1);
      --max-width:1200px;
    }

    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family:'Poppins',system-ui;
      color:var(--muted);
      background:linear-gradient(180deg,var(--bg-1),var(--bg-2));
      padding:16px;
      overflow-y:scroll;
    }

    .shell{
      max-width:var(--max-width);
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:24px;
    }

    .btn{
      border:0;
      padding:10px 14px;
      border-radius:10px;
      background:var(--primary);
      font-weight:700;
      cursor:pointer;
    }

    .ghost{
      background:transparent;
      color:#fff;
      border:1px solid rgba(255,255,255,.08);
    }

    .micro-form{
      display:flex;
      gap:8px;
    }

    .micro-form input{
      flex:1;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.08);
      background:transparent;
      color:#fff;
    }

    .micro-form.small-panel{
      flex-direction:column;
      max-width:420px;
      padding:12px;
      background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.02));
      border-radius:12px;
    }

    footer.sitefoot{
      padding:16px;
      border-radius:12px;
      background:linear-gradient(180deg,rgba(255,255,255,.01),transparent);
      display:flex;
      flex-direction:column;
      gap:12px;
    }
  </style>
</head>

<body>

<main class="shell">

  <h1 style="color:#fff">MediaCraft</h1>
  <p>The Ultimate Resource — Creative Excellence.</p>

  <!-- CONTACT FOOTER -->
  <footer class="sitefoot" role="contentinfo">
    <h3 style="color:#fff">Ready to begin?</h3>
    <p class="muted">Tell us about your project and we'll reply within one business day.</p>

    <form id="microContact" class="micro-form small-panel" aria-label="Quick contact form">
      <input type="text" name="name" placeholder="Your name" required />
      <input type="email" name="email" placeholder="Email address" required />
      <button class="btn" type="submit">Send</button>
    </form>

    <small class="muted">© <span id="yr"></span> MediaCraft</small>
  </footer>

</main>

<script>
/* ===========================
   UTILITIES
   =========================== */
document.getElementById('yr').textContent = new Date().getFullYear();

/* ===========================
   REAL FORM SUBMISSION (UPDATED)
   =========================== */
(function(){
  const form = document.getElementById('microContact');
  if(!form) return;

  form.addEventListener('submit', async (e)=>{
    e.preventDefault();

    const btn = form.querySelector('button');
    const original = btn.textContent;

    btn.textContent = 'Sending...';
    btn.disabled = true;

    const payload = {
      name: form.name.value.trim(),
      email: form.email.value.trim()
    };

    try{
      const res = await fetch('/api/contact', {
        method: 'POST',
        headers: { 'Content-Type':'application/json' },
        body: JSON.stringify(payload)
      });

      if(!res.ok) throw new Error('Submission failed');

      btn.textContent = 'Sent ✔️';
      form.reset();
    }
    catch(err){
      console.error(err);
      alert('Something went wrong. Please try again.');
      btn.textContent = 'Error ❗';
    }
    finally{
      setTimeout(()=>{
        btn.textContent = original;
        btn.disabled = false;
      }, 2000);
    }
  });
})();
</script>

</body>
</html>
